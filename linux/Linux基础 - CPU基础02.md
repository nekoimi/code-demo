### CPU上下文切换

- CPU时间片

> 时间片即CPU分配给各个程序的时间，每个线程被分配一个时间段，称作它的时间片，即该进程允许运行的时间，使各个程序从表面上看是同时进行的。如果在时间片结束时进程还在运行，则CPU将被剥夺并分配给另一个进程。如果进程在时间片结束前阻塞或结束，则CPU当即进行切换。而不会造成CPU资源浪费。在宏观上：我们可以同时打开多个应用程序，每个程序并行不悖，同时运行。但在微观上：由于只有一个CPU，一次只能处理程序要求的一部分，如何处理公平，一种方法就是引入时间片，每个程序轮流执行。

- CPU寄存器

> CPU 寄存器，是 CPU 内置的容量小、但速度极快的内存

- 程序计数器

> 程序计数器，则是用来存储 CPU 正在执行的指令位置、或者即将执行的下一条指令位置。它们都是 CPU 在运行任何 任务前，必须的依赖环境，因此也被叫做 CPU 上下文

::

> cpu在多个任务之间切换的时候会把当前任务的cpu上下文保存起来，然后执行新的任务，跳到保存的cpu上下文执行之前的任务，如此反复来回切换

### 对于Linux

在linux系统中，系统把进程的运行空间根据权限分为两类

- 内核空间

> 可以直接访问各种硬件资源

- 用户空间

> 只能访问呢受限资源，如果需要操作硬件资源，必须通过内核空间来调用，也就是说必须使用系统调用
> 比如读取文件的过程

进程在内核空间中运行被称为内核态

进程在用户空间中运行被称为用户态

##### 在一次系统调用的过程中， 发生了两次CPU上下文的切换


